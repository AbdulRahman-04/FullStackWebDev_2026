========================================
PostgreSQL Complete Notes (Beginner)
========================================

----------------------------------------
1) What is Database (DB)?
----------------------------------------
Database = data store karne ki jagah.

Example:
Users ka data, products ka data, orders ka data
-> sab database me store hota hai.

Instead of:
text files / excel
We use:
Database (fast, safe, structured)

----------------------------------------
2) What is DBMS?
----------------------------------------
DBMS = Database Management System

It is software to:
- store data
- update data
- delete data
- secure data

Examples:
MySQL, PostgreSQL, Oracle, SQL Server

----------------------------------------
3) What is RDBMS?
----------------------------------------
RDBMS = Relational Database Management System

Data is stored in:
Tables (rows + columns)

Relations:
One table can be related to another table.

Example:
users table
orders table
orders.user_id -> users.id

Examples:
PostgreSQL, MySQL, Oracle

----------------------------------------
4) What is PostgreSQL?
----------------------------------------
PostgreSQL = open-source RDBMS

Features:
- free
- very powerful
- ACID compliant
- used in real companies

----------------------------------------
5) Advantages of PostgreSQL
----------------------------------------
- Open source (free)
- Very reliable
- Supports JSON + SQL
- Strong constraints
- Good for large apps
- Used with backend (Node, Go, Java, etc.)

----------------------------------------
6) Install PostgreSQL (WSL - Ubuntu)
----------------------------------------

sudo apt update
sudo apt install postgresql postgresql-contrib

Start service:
sudo service postgresql start

Login:
sudo -u postgres psql

Create database:
CREATE DATABASE testdb;
\c testdb

----------------------------------------
7) pgAdmin (GUI Tool)
----------------------------------------
pgAdmin = graphical tool to run SQL queries

Steps:
- Open pgAdmin
- Register Server
- Host: localhost
- Port: 5432
- Username: postgres
- Password: your password
- Select DB and Select query tool to go to query tool of that specific db

========================================
PostgreSQL Notes (Simple English Order)
========================================

----------------------------------------
1) Create Database
----------------------------------------

CREATE DATABASE mydb;
\c mydb;

----------------------------------------
2) Create Table
----------------------------------------

CREATE TABLE employees(
  id SERIAL PRIMARY KEY,
  name VARCHAR(50) NOT NULL,
  email VARCHAR(100) UNIQUE,
  salary DECIMAL(10,2),
  dept VARCHAR(50),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

----------------------------------------
3) Insert Data
----------------------------------------

INSERT INTO employees (name, email, salary, dept) VALUES
('Ali','ali@gmail.com',40000,'IT'),
('Zain','zain@gmail.com',45000,'HR'),
('Umar','umar@gmail.com',50000,'Finance');

----------------------------------------
4) Select Data
----------------------------------------

SELECT * FROM employees;
SELECT name, salary FROM employees;

----------------------------------------
5) Update Data
----------------------------------------

UPDATE employees
SET salary = 55000
WHERE name = 'Ali';

----------------------------------------
6) Delete Data
----------------------------------------

DELETE FROM employees WHERE name = 'Zain';

----------------------------------------
7) Constraints
----------------------------------------

PRIMARY KEY  
UNIQUE  
NOT NULL  
DEFAULT  
FOREIGN KEY  

Example:

ALTER TABLE employees
ALTER COLUMN email SET NOT NULL;

----------------------------------------
8) WHERE Clause (filter rows)
----------------------------------------

SELECT * FROM employees WHERE dept = 'IT';
SELECT * FROM employees WHERE salary > 45000;

----------------------------------------
9) IN / NOT IN / BETWEEN
----------------------------------------

SELECT * FROM employees WHERE dept IN ('IT','HR');
SELECT * FROM employees WHERE dept NOT IN ('Sales');
SELECT * FROM employees WHERE salary BETWEEN 40000 AND 50000;

----------------------------------------
10) DISTINCT
----------------------------------------

SELECT DISTINCT dept FROM employees;

----------------------------------------
11) ORDER BY
----------------------------------------

SELECT * FROM employees ORDER BY salary ASC;
SELECT * FROM employees ORDER BY salary DESC;

----------------------------------------
12) LIMIT & OFFSET
----------------------------------------

SELECT * FROM employees ORDER BY salary DESC LIMIT 2;
SELECT * FROM employees ORDER BY salary DESC LIMIT 2 OFFSET 2;

----------------------------------------
13) LIKE
----------------------------------------

SELECT * FROM employees WHERE name LIKE 'A%';
SELECT * FROM employees WHERE email LIKE '%gmail%';

----------------------------------------
14) Aggregate Functions
----------------------------------------

COUNT, SUM, AVG, MIN, MAX

SELECT COUNT(*) FROM employees;
SELECT SUM(salary) FROM employees;
SELECT AVG(salary) FROM employees;
SELECT MAX(salary) FROM employees;
SELECT MIN(salary) FROM employees;

----------------------------------------
15) GROUP BY
----------------------------------------

SELECT dept, COUNT(*) 
FROM employees
GROUP BY dept;

SELECT dept, SUM(salary)
FROM employees
GROUP BY dept;

----------------------------------------
16) ALTER TABLE
----------------------------------------

ALTER TABLE employees ADD COLUMN age INT;
ALTER TABLE employees DROP COLUMN age;
ALTER TABLE employees RENAME COLUMN dept TO department;

----------------------------------------
17) HAVING (filter groups)
----------------------------------------

SELECT dept, AVG(salary)
FROM employees
GROUP BY dept
HAVING AVG(salary) > 45000;

----------------------------------------
18) Relationships (Foreign Key)
----------------------------------------

One-to-Many Example:
One department → many employees

CREATE TABLE dept(
  dept_id SERIAL PRIMARY KEY,
  dept_name VARCHAR(50)
);

CREATE TABLE employees(
  id SERIAL PRIMARY KEY,
  name VARCHAR(50),
  dept_id INT REFERENCES dept(dept_id)
);

----------------------------------------
19) Many-to-Many Relationship
----------------------------------------

students ↔ courses

CREATE TABLE students(
  id SERIAL PRIMARY KEY,
  name VARCHAR(50)
);

CREATE TABLE courses(
  id SERIAL PRIMARY KEY,
  title VARCHAR(50)
);

CREATE TABLE student_courses(
  student_id INT REFERENCES students(id),
  course_id INT REFERENCES courses(id),
  PRIMARY KEY(student_id, course_id)
);

----------------------------------------
20) JOINS (Last Topic)
----------------------------------------

CROSS JOIN:
All combinations

SELECT * FROM employees CROSS JOIN dept;

INNER JOIN:
Only matching rows

SELECT employees.name, dept.dept_name
FROM employees
INNER JOIN dept
ON employees.dept_id = dept.dept_id;

LEFT JOIN:
All left table rows

SELECT employees.name, dept.dept_name
FROM employees
LEFT JOIN dept
ON employees.dept_id = dept.dept_id;

RIGHT JOIN:
All right table rows

SELECT employees.name, dept.dept_name
FROM employees
RIGHT JOIN dept
ON employees.dept_id = dept.dept_id;

========================================
END OF NOTES
========================================
